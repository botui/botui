"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[934],{653:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=t(8102),a=(t(3696),t(9916));const o={},i="React + TypeScript",s={unversionedId:"react/typescript",id:"react/typescript",title:"React + TypeScript",description:"Complete guide to using BotUI with React and TypeScript for type-safe conversational interfaces.",source:"@site/docs/react/typescript.md",sourceDirName:"react",slug:"/react/typescript",permalink:"/react/typescript",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Styling and Theming Guide",permalink:"/react/styling"},next:{title:"Plugins",permalink:"/plugins"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Typed Hooks",id:"typed-hooks",level:2},{value:"Custom Renderer Types",id:"custom-renderer-types",level:2},{value:"Typed Conversation Flows",id:"typed-conversation-flows",level:2},{value:"Advanced Component Patterns",id:"advanced-component-patterns",level:2},{value:"Typed Component with State",id:"typed-component-with-state",level:3},{value:"Generic Renderer Factory",id:"generic-renderer-factory",level:3},{value:"Testing with TypeScript",id:"testing-with-typescript",level:2},{value:"TypeScript Configuration",id:"typescript-configuration",level:2},{value:"Best Practices",id:"best-practices",level:2}],p={toc:l},u="wrapper";function d({components:e,...n}){return(0,a.yg)(u,(0,r.A)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"react--typescript"},"React + TypeScript"),(0,a.yg)("p",null,"Complete guide to using BotUI with React and TypeScript for type-safe conversational interfaces."),(0,a.yg)("h2",{id:"installation"},"Installation"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"npm install botui @botui/react\nnpm install --save-dev typescript @types/react @types/react-dom\n")),(0,a.yg)("h2",{id:"basic-setup"},"Basic Setup"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},"import { createBot, BotuiInterface } from 'botui'\nimport { BotUI, BotUIMessageList, BotUIAction } from '@botui/react'\n\nconst myBot: BotuiInterface = createBot()\n")),(0,a.yg)("h2",{id:"typed-hooks"},"Typed Hooks"),(0,a.yg)("p",null,"All BotUI React hooks provide full TypeScript support:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},"import React from 'react'\nimport { useBotUI, useBotUIAction, useBotUIMessage } from '@botui/react'\nimport { BotuiInterface, Block } from 'botui'\n\nconst MyBotComponent: React.FC = () => {\n  const bot: BotuiInterface = useBotUI()\n  const action: Block | null = useBotUIAction()\n  const messages: Block[] = useBotUIMessage()\n\n  // Type-safe usage\n  const handleClick = () => {\n    bot.next({ userClicked: true })\n  }\n\n  return (\n    <div>\n      <p>Messages: {messages.length}</p>\n      {action && <p>Current action: {action.meta.actionType}</p>}\n      <button onClick={handleClick}>Continue</button>\n    </div>\n  )\n}\n")),(0,a.yg)("h2",{id:"custom-renderer-types"},"Custom Renderer Types"),(0,a.yg)("p",null,"Define strongly-typed custom renderers for your React components:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},'import React from \'react\'\nimport { Renderer } from \'@botui/react\'\nimport { Block } from \'botui\'\n\n// Define custom renderer props\ninterface MessageProps {\n  message: Block\n}\n\ninterface ActionProps {\n  // No props needed as hooks provide the data\n}\n\n// Custom message data interfaces\ninterface ChartMessageData {\n  chartType: string\n  data: number[]\n}\n\ninterface RatingActionData {\n  question: string\n  maxRating: number\n}\n\n// Typed custom renderers\nconst ChartMessage: React.FC<MessageProps> = ({ message }) => {\n  const chartData = message.data as ChartMessageData\n\n  return (\n    <div className="chart-message">\n      <h4>Chart: {chartData.chartType}</h4>\n      <div className="chart-data">\n        {chartData.data.map((value, index) => (\n          <div key={index} className="chart-bar" style={{ height: value * 10 }}>\n            {value}\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst RatingAction: React.FC<ActionProps> = () => {\n  const bot = useBotUI()\n  const action = useBotUIAction()\n  const ratingData = action?.data as RatingActionData\n\n  const handleRating = (rating: number) => {\n    bot.next({ rating, timestamp: Date.now() })\n  }\n\n  return (\n    <div className="rating-action">\n      <p>{ratingData?.question}</p>\n      <div className="rating-buttons">\n        {Array.from({ length: ratingData?.maxRating || 5 }, (_, i) => (\n          <button key={i} onClick={() => handleRating(i + 1)}>\n            {i + 1} \u2b50\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\n// Typed renderer object\nconst customRenderers: Renderer = {\n  chart: ChartMessage,\n  rating: RatingAction\n}\n\n// Usage in component\nconst App: React.FC = () => {\n  return (\n    <BotUI bot={myBot}>\n      <BotUIMessageList renderer={customRenderers} />\n      <BotUIAction renderer={customRenderers} />\n    </BotUI>\n  )\n}\n')),(0,a.yg)("h2",{id:"typed-conversation-flows"},"Typed Conversation Flows"),(0,a.yg)("p",null,"Create type-safe conversation flows with proper interfaces:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},"import { BotuiInterface } from 'botui'\n\ninterface UserProfile {\n  name: string\n  email: string\n  age: number\n}\n\ninterface ValidationResponse {\n  value: string\n  isValid: boolean\n}\n\nconst collectUserProfile = async (bot: BotuiInterface): Promise<UserProfile> => {\n  // Get name with validation\n  await bot.message.add({ text: \"What's your name?\" })\n  const nameResponse = await bot.action.set(\n    { placeholder: 'Enter your name' },\n    {\n      actionType: 'input',\n      validation: { required: true, minLength: 2 }\n    }\n  ) as ValidationResponse\n\n  // Get email with validation\n  await bot.message.add({ text: \"What's your email?\" })\n  const emailResponse = await bot.action.set(\n    { placeholder: 'Enter your email', type: 'email' },\n    {\n      actionType: 'input',\n      validation: { required: true, pattern: 'email' }\n    }\n  ) as ValidationResponse\n\n  // Get age with validation\n  await bot.message.add({ text: \"What's your age?\" })\n  const ageResponse = await bot.action.set(\n    { placeholder: 'Enter your age', type: 'number' },\n    {\n      actionType: 'input',\n      validation: { required: true, min: 13, max: 120 }\n    }\n  ) as ValidationResponse\n\n  return {\n    name: nameResponse.value,\n    email: emailResponse.value,\n    age: parseInt(ageResponse.value, 10)\n  }\n}\n\n// Usage with proper error handling\nconst handleUserRegistration = async () => {\n  try {\n    const profile = await collectUserProfile(myBot)\n    console.log(`Hello ${profile.name}!`) // Type-safe access\n\n    // Continue with registration\n    await myBot.message.add({\n      text: `Thanks ${profile.name}! We'll send updates to ${profile.email}`\n    })\n  } catch (error) {\n    await myBot.message.add({\n      text: 'Sorry, something went wrong. Please try again.'\n    })\n  }\n}\n")),(0,a.yg)("h2",{id:"advanced-component-patterns"},"Advanced Component Patterns"),(0,a.yg)("h3",{id:"typed-component-with-state"},"Typed Component with State"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},'import React, { useState, useEffect } from \'react\'\nimport { useBotUI, useBotUIAction } from \'@botui/react\'\n\ninterface FormState {\n  isValid: boolean\n  errors: string[]\n  values: Record<string, string>\n}\n\nconst TypedFormAction: React.FC = () => {\n  const bot = useBotUI()\n  const action = useBotUIAction()\n  const [formState, setFormState] = useState<FormState>({\n    isValid: false,\n    errors: [],\n    values: {}\n  })\n\n  const validateForm = (values: Record<string, string>): FormState => {\n    const errors: string[] = []\n\n    if (!values.name?.trim()) {\n      errors.push(\'Name is required\')\n    }\n\n    if (!values.email?.includes(\'@\')) {\n      errors.push(\'Valid email is required\')\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors,\n      values\n    }\n  }\n\n  const handleSubmit = () => {\n    if (formState.isValid) {\n      bot.next({\n        formData: formState.values,\n        submittedAt: new Date().toISOString()\n      })\n    }\n  }\n\n  return (\n    <div className="typed-form">\n      <div className="form-fields">\n        <input\n          placeholder="Name"\n          onChange={(e) => {\n            const newValues = { ...formState.values, name: e.target.value }\n            setFormState(validateForm(newValues))\n          }}\n        />\n        <input\n          type="email"\n          placeholder="Email"\n          onChange={(e) => {\n            const newValues = { ...formState.values, email: e.target.value }\n            setFormState(validateForm(newValues))\n          }}\n        />\n      </div>\n\n      {formState.errors.length > 0 && (\n        <div className="errors">\n          {formState.errors.map((error, index) => (\n            <div key={index} className="error">{error}</div>\n          ))}\n        </div>\n      )}\n\n      <button\n        onClick={handleSubmit}\n        disabled={!formState.isValid}\n      >\n        Submit\n      </button>\n    </div>\n  )\n}\n')),(0,a.yg)("h3",{id:"generic-renderer-factory"},"Generic Renderer Factory"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},'interface RendererProps<T = any> {\n  message: Block & { data: T }\n}\n\n// Generic renderer factory\nfunction createTypedRenderer<T>(\n  Component: React.FC<RendererProps<T>>\n): React.FC<{ message: Block }> {\n  return ({ message }) => (\n    <Component message={message as Block & { data: T }} />\n  )\n}\n\n// Usage\ninterface ProductData {\n  id: string\n  name: string\n  price: number\n  image: string\n}\n\nconst ProductRenderer = createTypedRenderer<ProductData>(({ message }) => (\n  <div className="product-card">\n    <img src={message.data.image} alt={message.data.name} />\n    <h3>{message.data.name}</h3>\n    <p>${message.data.price}</p>\n  </div>\n))\n\nconst renderers: Renderer = {\n  product: ProductRenderer\n}\n')),(0,a.yg)("h2",{id:"testing-with-typescript"},"Testing with TypeScript"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-typescript"},"import { render, screen, fireEvent } from '@testing-library/react'\nimport { createBot } from 'botui'\nimport { BotUI, BotUIAction } from '@botui/react'\n\ndescribe('BotUI TypeScript Integration', () => {\n  test('should handle typed actions correctly', async () => {\n    const bot = createBot()\n\n    // Set up typed action\n    const actionPromise = bot.action.set(\n      { placeholder: 'Enter name' },\n      { actionType: 'input' }\n    )\n\n    render(\n      <BotUI bot={bot}>\n        <BotUIAction />\n      </BotUI>\n    )\n\n    // Interact with the action\n    const input = screen.getByPlaceholderText('Enter name')\n    fireEvent.change(input, { target: { value: 'John' } })\n    fireEvent.click(screen.getByText('Submit'))\n\n    // Verify typed response\n    const response = await actionPromise\n    expect(response.value).toBe('John')\n    expect(typeof response.value).toBe('string')\n  })\n})\n")),(0,a.yg)("h2",{id:"typescript-configuration"},"TypeScript Configuration"),(0,a.yg)("p",null,"Recommended ",(0,a.yg)("inlineCode",{parentName:"p"},"tsconfig.json")," for React + BotUI projects:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "compilerOptions": {\n    "target": "ES2020",\n    "lib": ["DOM", "DOM.Iterable", "ES6"],\n    "allowJs": true,\n    "skipLibCheck": true,\n    "esModuleInterop": true,\n    "allowSyntheticDefaultImports": true,\n    "strict": true,\n    "forceConsistentCasingInFileNames": true,\n    "moduleResolution": "node",\n    "resolveJsonModule": true,\n    "isolatedModules": true,\n    "noEmit": true,\n    "jsx": "react-jsx"\n  },\n  "include": [\n    "src"\n  ]\n}\n')),(0,a.yg)("h2",{id:"best-practices"},"Best Practices"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Define clear interfaces")," for your data structures"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Use type guards")," for runtime type checking"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Leverage generic types")," for reusable components"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Type your custom renderers")," properly"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Handle errors gracefully")," with proper typing"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Test your types")," to ensure they work as expected")),(0,a.yg)("p",null,"With TypeScript, your React BotUI applications become more maintainable, catch errors at compile time, and provide excellent developer experience with IntelliSense and autocomplete."))}d.isMDXComponent=!0},9916:(e,n,t)=>{t.d(n,{xA:()=>p,yg:()=>g});var r=t(3696);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){a(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef(function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(t),m=a,g=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return t?r.createElement(g,i(i({ref:n},p),{},{components:t})):r.createElement(g,i({ref:n},p))});function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=t[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);